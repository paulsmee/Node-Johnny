// This is the base server which also routes functions to the user.

var express = require('express');
var server = express();
var currentTemp = require('./thermistor.js')

// Tihs is a test function to see if the user call the function by clicking a button.
var getNumber = function(number, amount) {
  var times = number * amount;
  return times;
};

server.use('/public', express.static(__dirname + '/public'));



// Add route for function
server.get('/run-function', function(req, res) {
  var value = getNumber(6,5);
	console.log(value); // log the value to the console
  res.send(value+''); // send the value to the browser. The +'' turns the result into a string.
})

// This should route the function for the temp sensor
server.get('/get-temp', function(req, res) {
  var value2 = (currentTemp.tempC);
	console.log(value2); // log the value to the console
  res.send(value2+''); // send the value to the browser which the user will request.
})

server.get('/', function(req, res) {
  res.sendFile(__dirname + '/index.html');
});

var port = 8000
server.listen(port, function() {
  console.log('The server is listening on port ' + port);
});
